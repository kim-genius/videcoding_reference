# Gemini를 활용한 강의 요약 자동화 가이드 (최종본)

이 문서는 PDF 강의 자료와 녹취록 텍스트 파일을 취합하여, **이미지가 내장된(embedded)** 하나의 마크다운(MD) 파일을 만드는 전 과정을 상세히 안내합니다. 이 가이드를 통해 다른 강의 자료도 동일한 방식으로 자동화할 수 있습니다.

---

### 1단계: 작업 준비 및 환경 확인

1.  **파일 목록 확인:** `ls -R` 명령어로 현재 폴더의 구조와 파일 목록을 확인합니다.
2.  **목표 설정:** PDF와 TXT 파일을 합쳐, 각 슬라이드 이미지 아래에 해당 녹취록 요약이 달린 **하나의 독립적인 MD 파일**을 만드는 것을 목표로 합니다.

---

### 2단계: PDF 슬라이드 이미지 변환 및 최적화

PDF의 각 페이지를 이미지로 변환하고, 파일 크기를 줄여 최종 마크다운 파일이 너무 커지지 않도록 최적화합니다.

1.  **필수 도구 설치 (최초 1회):**
    *   이 자동화 과정에는 `poppler-utils`와 `imagemagick`이라는 두 가지 시스템 도구가 필요합니다. 다음 명령어를 터미널에서 실행하여 설치합니다. (Gemini는 직접 설치할 수 없으므로, 사용자가 직접 실행해야 합니다.)
        ```bash
        sudo apt-get update && sudo apt-get install -y poppler-utils imagemagick
        ```

2.  **PDF를 이미지로 변환:**
    *   `pdftoppm` 명령어를 사용하여 PDF의 모든 페이지를 각각의 JPG 파일로 변환합니다.
        ```bash
        pdftoppm -jpeg "[PDF_파일명].pdf" [출력_이미지_접두어]
        ```
    *   **실행 예시:** `pdftoppm -jpeg "세션2. 이경록.pdf" slide`

3.  **이미지 용량 최적화:**
    *   `mogrify` 명령어를 사용하여 변환된 모든 이미지의 해상도와 품질을 낮추어 용량을 크게 줄입니다. (가로 800px, 품질 75%는 대부분의 경우에 적합합니다.)
        ```bash
        mogrify -resize 800 -quality 75 [출력_이미지_접두어]-*.jpg
        ```
    *   **실행 예시:** `mogrify -resize 800 -quality 75 slide-*.jpg`

---

### 3단계: 텍스트 추출 및 요약, 이미지 통합

1.  **1차 통합본 생성:**
    *   **슬라이드 텍스트 추출:** `read_many_files`를 사용하여 모든 `slide-*.jpg` 파일에서 텍스트를 추출합니다.
    *   **녹취록 읽기:** `read_file`로 녹취록 TXT 파일의 전체 내용을 읽습니다.
    *   **내용 연결 및 요약:** 각 슬라이드와 관련된 녹취록 내용을 의미적으로 분석하여 연결하고, 긴 녹취록은 간결하게 요약합니다.
    *   **중간 파일 저장:** `write_file`을 사용하여, 각 슬라이드 섹션에 **이미지 파일 링크**와 **요약된 녹취록**이 포함된 `강의_요약_통합본_최종.md`와 같은 중간 결과물 파일을 만듭니다.

---

### 4단계: 이미지 파일 참조 및 최종 결과물 생성

이미지를 마크다운 파일에 직접 내장하는 대신, 별도의 이미지 파일로 저장하고 마크다운 파일에서 해당 이미지를 참조하는 방식으로 최종 결과물을 생성합니다. 이 방식은 파일 크기를 효율적으로 관리하고 GitHub와 같은 플랫폼에서 이미지가 올바르게 표시되도록 합니다.

1.  **이미지 파일 경로 수정:**
    *   `강의_요약_통합본_최종.md` 파일 내의 이미지 경로를 `images/` 디렉토리를 참조하도록 수정합니다. 이 작업은 이미지를 별도의 파일로 분리하고 난 후에 진행됩니다.
        ```bash
        # 예시: ./slide-001.jpg 를 images/slide-001.jpg 로 변경
        # 이 작업은 이미 완료되었습니다.
        ```

---

### 5단계: 작업 공간 정리

모든 작업이 완료되었으므로, 더 이상 필요 없는 중간 파일들을 삭제하여 작업 공간을 깨끗하게 정리합니다.

1.  **이미지 파일 삭제:**
    ```bash
    rm slide-*.jpg
    ```

이 가이드를 통해 Gemini를 활용하여 반복적인 강의 요약 작업을 효율적으로 자동화하고, 공유하기 쉬운 단일 파일을 만들 수 있습니다.